$models = @(
#    "microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224", # âœ…
#    "redlessone/DermLIP_ViT-B-16", # âœ…
#    "timm/MobileCLIP2-S2-OpenCLIP",#âœ… # ğŸŒ
#    "timm/MobileCLIP2-S3-OpenCLIP",#âœ… # ğŸŒ
#    "timm/MobileCLIP2-S4-OpenCLIP"#âœ… # ğŸŒ
#    "laion/CLIP-ViT-B-32-laion2B-s34B-b79K",#âœ…
#    "laion/CLIP-ViT-L-14-laion2B-s32B-b82K",#âœ…
#    "laion/CLIP-ViT-H-14-laion2B-s32B-b79K",#âœ…
#    "laion/CLIP-ViT-B-16-laion2B-s34B-b88K",#âœ…
#    "laion/CLIP-convnext_base_w-laion2B-s13B-b82K",#âœ…
#    "laion/CLIP-convnext_base_w_320-laion_aesthetic-s13B-b82K-augreg",#âœ…
#    "laion/CLIP-ViT-bigG-14-laion2B-39B-b160k",#âœ…
#    "laion/CLIP-convnext_large_d_320.laion2B-s29B-b131K-ft",#âœ…
#    "laion/CLIP-ViT-g-14-laion2B-s34B-b88K",#âœ…
#    "timm/vit_large_patch14_clip_336.openai",#âœ…
#    "laion/CLIP-ViT-B-32-CommonPool.S-s13M-b4K",#âœ…
#    "laion/CLIP-ViT-L-14-DataComp.XL-s13B-b90K",#âœ…
#    "timm/ViT-SO400M-14-SigLIP-384",#âœ…
#    "Marqo/marqo-fashionSigLIP",#âœ…
#    "imageomics/bioclip",#âœ…
#    "timm/ViT-B-16-SigLIP",#âœ…
#    "timm/ViT-L-16-SigLIP-384",#âœ…
#    "Marqo/marqo-fashionCLIP",#âœ…
#    "imageomics/bioclip-2",#âœ…
#    "wisdomik/QuiltNet-B-32",#âœ…
#    "timm/ViT-SO400M-14-SigLIP",#âœ…
#    "UCSC-VLAA/ViT-L-16-HTxt-Recap-CLIP",#âœ…
#    "visheratin/nllb-siglip-mrl-large",#â›”
#    "mkaichristensen/echo-clip",#âœ…
#    "visheratin/nllb-siglip-mrl-base",#â›”
#    "redlessone/DermLIP_PanDerm-base-w-PubMed-256",#â›”
#    "DatologyAI/cls-opt-vit-b-32",#âœ…
#    "laion/CLIP-ViT-B-32-DataComp.XL-s13B-b90K",#âœ…
#    "timm/vit_base_patch16_plus_clip_240.laion400m_e31",#âœ…
#    "timm/ViT-B-16-SigLIP2-256",#âœ…
#    "timm/vit_base_patch32_clip_224.laion400m_e32",#âœ…
#    "timm/ViT-B-16-SigLIP-256",#âœ…
#    "timm/resnet50_clip.openai",#âœ…
#    "timm/ViT-SO400M-14-SigLIP2",#âœ…
#    "timm/ViT-B-16-SigLIP2-512",#âœ…
    "timm/ViT-SO400M-16-SigLIP2-384"# âœ… ğŸŒ
#    "timm/PE-Core-bigG-14-448"#âœ…
#    "timm/ViT-gopt-16-SigLIP2-384",#âœ… ğŸŒ
#    "apple/DFN5B-CLIP-ViT-H-14-378"#âœ… ğŸŒ
)

$failed = @()

foreach ($model in $models)
{
    Write-Host "Processing: $model" -ForegroundColor Cyan
    uv run .\pull_onnx.py --id $model

    if ($LASTEXITCODE -ne 0)
    {
        $failed += $model
        Write-Host "FAILED: $model" -ForegroundColor Red
    }
}

if ($failed.Count -gt 0)
{
    Write-Host "`nSummary of failures:" -ForegroundColor Red
    $failed | ForEach-Object { Write-Host " - $_" }
}
else
{
    Write-Host "`nAll models processed successfully!" -ForegroundColor Green
}